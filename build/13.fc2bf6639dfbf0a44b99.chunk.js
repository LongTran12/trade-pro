(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"250d710a0099471f5667":function(e,t,r){"use strict";var n,o=r("8af190b70a6bc55c6f1b"),a=r("03fb0036f9fdca151d0b"),i=r("0d939196e59ed73c94e6"),s=r("07460803b00a50e0385f"),c=r("013d85ea6438da1a70f9"),u=r("0b108e344ee29de20d53"),d=r("0b3cb19af78752326f59"),l=r("a513f776ac393ae465e3"),p=r.n(l),f=r("8e8be3dfc3937f600de1"),m=r.n(f),v=r("d6f151525181e1e3d939"),b=r.n(v),g=r("f607f491151ddcb274e0"),h=r.n(g),y=r("c09d19c0d058d138126d"),w=r.n(y),x=r("47215cc9f23c8e497a86"),C=r("f5393d1cf8c70394ca8e"),k=r("ec15def0234cb7c142a8"),j=r("d6f259ffb10cc810b5a4"),N=r("21c3e233ca7e96f4dc6a"),A=r.n(N);function I(e,t,r,o){n||(n="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=o;else if(i>1){for(var s=new Array(i),c=0;c<i;c++)s[c]=arguments[c+3];t.children=s}if(t&&a)for(var u in a)void 0===t[u]&&(t[u]=a[u]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function O(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function S(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){O(a,n,o,i,s,"next",e)}function s(e){O(a,n,o,i,s,"throw",e)}i(void 0)}))}}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var F=I(m.a,{position:"start"},void 0,I(b.a,{})),R=I(i.Tooltip,{title:"copy"},void 0,I(p.a,{})),T=I("p",{className:"error-icon"},void 0,I(A.a,{})),M=I("p",{className:"error-icon"},void 0,I(A.a,{})),W=I(m.a,{position:"start"},void 0,I(b.a,{})),B=I(p.a,{});t.a=Object(i.withStyles)(s.a)((function(e){var t=e.classes,r=_(Object(o.useState)(!1),2),n=r[0],s=r[1],d=_(Object(o.useState)(!1),2),l=d[0],p=d[1],f=Object(c.b)(),m=f.t,v=f.i18n,b=function(e){return v.exists(e)?m(e):e},g=Object(o.useContext)(u.a),y=g.member,N=g.address;Object(o.useEffect)((function(){var e=setTimeout((function(){s(!1),p(!1)}),1500);return function(){return clearTimeout(e)}}),[n,l]);var A=window.location.origin+"/?ref="+N,O=Object(o.useContext)(C.a).ref,J=_(Object(o.useState)(!1),2),$=J[0],L=J[1],Z=_(Object(o.useState)(""),2),q=Z[0],D=Z[1],G=_(Object(o.useState)(""),2),H=G[0],K=G[1],Q=window.location.origin+"/?user="+q,V=q.match(/[^A-Za-z0-9]+/),X=H.match(/[^0-9]+/),Y=function(){var e=S(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(""!==H&&X||""!==q&&V)){e.next=3;break}return console.log("error validate"),e.abrupt("return",!1);case 3:return t="0x0000000000000000000000000000000000000000"===O?j.a.admin:O,e.next=6,x.b.methods.validRegisterUser(q,H,t).call();case 6:if(r=e.sent,0!==(r=Number(r))){e.next=12;break}y.registerUser(q,H,t,{value:0},(function(e){e?k.message.error(e.message):k.message.info("Register success!")})),e.next=26;break;case 12:e.t0=r,e.next=1===e.t0?15:2===e.t0?17:3===e.t0?19:4===e.t0?21:5===e.t0?23:25;break;case 15:return k.message.error("User in use!"),e.abrupt("break",26);case 17:return k.message.error("Address already set username!"),e.abrupt("break",26);case 19:return k.message.error("Phone in use!"),e.abrupt("break",26);case 21:return k.message.error("Address already set phone!"),e.abrupt("break",26);case 23:return k.message.error("Reference is not valid, please contact sponsor!"),e.abrupt("break",26);case 25:return e.abrupt("break",26);case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){N&&function(){var e=S(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.b.methods.infoMember(N).call();case 3:""!==(t=e.sent).user&&(L(!0),D(t.user)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()}),[N]),I(a.a,{className:t.root,noMargin:!0,title:b("refLink"),icon:"ios-basket-outline",whiteBg:!0,desc:""},void 0,$?I(P,{className:"user"},void 0,I(i.FormControl,{fullWidth:!0,className:t.formControlTrade},void 0,I(i.Input,{id:"adornment-amount1",value:Q,disabled:!0,startAdornment:F})),I(E,{},void 0,I(i.Button,{onClick:function(){h()(Q),p(!0)}},void 0,R),l&&I(U,{},void 0,b("copied")))):I(z,{},void 0,I(i.FormControl,{className:t.formControl},void 0,I(w.a,{htmlFor:"name-simple"},void 0,b("user")),I(i.Input,{className:"".concat(""!==q&&V?"error":""),id:"name-simple34",value:q,onChange:function(e){D(e.target.value)}}),""!==q&&V?T:""),I(i.FormControl,{className:t.formControl},void 0,I(w.a,{htmlFor:"name-simple2"},void 0,b("phone")),I(i.Input,{className:"".concat(""!==H&&X?"error":""),id:"name-simple2",value:H,onChange:function(e){K(e.target.value)}}),""!==H&&X?M:""),I(i.Button,{variant:"contained",size:"large",color:"primary",className:t.margin,onClick:Y},void 0,b("register"))),I(P,{},void 0,I(i.FormControl,{fullWidth:!0,className:t.formControlTrade},void 0,I(i.Input,{id:"adornment-amount1",value:A,disabled:!0,startAdornment:W})),I(E,{},void 0,I(i.Button,{onClick:function(){h()(A),s(!0)}},void 0,I(i.Tooltip,{title:"".concat(b("copy"))},void 0,B)),n&&I(U,{},void 0," ",b("copied")))))}));var P=d.a.div.withConfig({displayName:"InputCopyAddress__Wrap",componentId:"sc-1kpenev-0"})(["display:flex;justify-content:space-between;align-items:center;position:relative;input{width:100%;}.MuiInputAdornment-positionStart{margin-right:10px;margin-left:10px;margin-bottom:7px;}&.user{margin-bottom:1.5em;}"]),E=d.a.div.withConfig({displayName:"InputCopyAddress__WrapCopy",componentId:"sc-1kpenev-1"})(["position:relative;"]),U=d.a.div.withConfig({displayName:"InputCopyAddress__Copied",componentId:"sc-1kpenev-2"})(["position:absolute;color:#111;bottom:-20px;left:0;text-align:center;width:100%;white-space:nowrap;"]),z=d.a.div.withConfig({displayName:"InputCopyAddress__WrapRegister",componentId:"sc-1kpenev-3"})(["margin-bottom:1.5em;display:flex;align-items:flex-end;input{width:100%;}.MuiFormControl-root{flex-basis:45%;margin-right:2em;}.error{border:1px solid red;}.error-icon{position:absolute;right:15px;top:26px;color:red;}@media (max-width:480px){flex-wrap:wrap;margin-bottom:2em;justify-content:center;.MuiFormControl-root{flex-basis:100%;margin-right:0;}button{margin-top:1em;}}"])}}]);